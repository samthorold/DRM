[
["index.html", "Preface", " Preface This book provides an introduction to option pricing with worked examples of many of the ideas. https://samthorold.github.io/DRM/index.html "],
["the-efficient-markets-hypothesis.html", "1 The Efficient Markets Hypothesis 1.1 Tests of the EMH", " 1 The Efficient Markets Hypothesis In an efficient security market the price of every security fully reflects all relevant and available information. The EMH states that security markets are efficient. The three forms of EMH are; Weak: Market prices reflect all of the information contained in historical price data. If markets are weak form efficient, technical analysis cannot be used to generate excess risk-adjusted returns. Semi-strong: Market prices reflect all publically available information. If markets are semi-strong form efficient, then fundamental analysis cannot be used to generate excess risk-adjusted returns. Strong: Market prices reflect all information, whether or not it is public. If markets are strong form efficient, then insider trading cannot be used to generate excess risk-adjusted returns. In practice, the level of efficiency depends on whether information is freely available, which in turn may depend on the level of disclosure required by regulation. The importance of market efficiency stems from the fact that if markets are not efficient then investors with better information may be able to generate higher risk-adjusted returns. If markets are efficient, an active investment manager is difficult to justify. 1.1 Tests of the EMH This is tough and so empirical evidence is inconclusive concerning the extent to which markets are efficient in practice. But; Studies of directors’ share dealings suggest that, even with inside information, it is difficult to out-perform the market. Studies have failed to identify a difference between the returns on stocks selected with technical analysis and those selected purely at random. Research has concentrated on the semi-strong form of the EMH and in particular, tests of informational efficiency and volatility tests. 1.1.1 Informational efficiency Studies show that the market overreacts to certain events and underreacts to other events. The over/under reaction is corrected over a long time period. If this is true then investors could take advantage of the slow correction of the market and efficiency would not hold. 1.1.1.1 Overreaction Past winners tend to be future losers and the market appears to overreact to past performance. Certain accounting ratios appear to have predictive powers, an example of the market apparently overreacting to past growth. Firms coming to the market have poor subsequent performance. 1.1.1.2 Underreaction Stock prices continue to respond to earnings announcements up to a year after their announcement. Abnormal excess returns for the parent and subsidiary firms following a de-merger. Abnormal negative returns following mergers. 1.1.2 Volatility tests Rob Shiller first formulated the claim of “excess volatility” into a testable proposition in 1981. He found strong evidence that the observed level of volatility contradicted the EMH. However, subsequent studies using different formulations of the problem found that the violation of the EMH had only borderline statistical significance. Criticisms of Shiller’s study include; Choice of terminal value for the stock price Use of a constant discount rate Bias in estimates of the variation due to autocorrelation Possible non-stationarity of the series, i.e. the series may have stochastic trends that invalidate the measurements of variance. "],
["utility-theory.html", "2 Utility theory 2.1 Axioms 2.2 Utility functions and risk preference 2.3 Forms of utility function 2.4 State-dependent utility functions 2.5 Maximising utility with insurance 2.6 Limitations 2.7 Alternative decision rules", " 2 Utility theory All part of theories of financial market behaviour. Rational expectations theory – EMH Rational choice – Utility theory Behavioural finance Utility: Satisfaction an individual obtains from a particular course of action. It is a numerical value that can be assigned to each possible value of an investor’s wealth through a utility function. Individuals act in a way that maximises \\(U(W)\\). 2.1 Axioms There are four common axioms; Comparability: An investor can state a preference for all certain outcomes Transitivity: if \\(A&gt;B\\) and \\(B&gt;C\\) then \\(A&gt;C\\). Independence: If an investor is indifferent between \\(A\\) and \\(B\\), they are also indifferent between; \\(A\\) with liklihood \\(p\\) and \\(C\\) with liklihood \\(1-p\\), and \\(B\\) with liklihood \\(p\\) and \\(C\\) with liklihood \\(1-p\\). Certainty equivalence: If \\(A&gt;B\\) and \\(B&gt;C\\), there is a unique \\(p\\) such that an investor is indifferent between; \\(A\\) with liklihood \\(p\\) and \\(C\\) with liklihood \\(1-p\\), and \\(B\\). Investors’ preferences are assumed to be influenced by risk. What does a utility function say about an investor’s risk-return preference? 2.2 Utility functions and risk preference Investors are assumed to be non-satiated, \\(U&#39;(W)&gt;0\\), and risk-averse, \\(U&#39;&#39;(w)&lt;0\\). This means they prefer more to less and value a decrease in risk more than an increase in risk of the same amount. But how does an investor’s risk aversion change with the level of wealth? Absolute risk aversion measures an investor’s aversion to risk. Relative risk aversion measures an investor’s aversion to risk relative to their wealth. \\[ A(w)=-\\frac{U&#39;&#39;(w)}{U&#39;(w)} \\] \\[ R(w)=-w\\frac{U&#39;&#39;(w)}{U&#39;(w)}=wA(w) \\] 2.3 Forms of utility function Three common forms of utility function are; Quadratic: \\(U(w)=a+bw+cw^2\\) or \\(U(w)=w+dw^2\\) (where \\(d&lt;0\\)) \\[ A(w)=-\\frac{2d}{1+2dw} \\text{ and } A&#39;(w)=\\frac{4d^2}{(1+2dw)^2}&gt;0 \\] \\[ R(w)=-\\frac{2dw}{1+2dw} \\text{ and } R&#39;(w)=-\\frac{2d}{(1+2dw)^2}&gt;0 \\] The quadratic utility function has increasing absolute and relative risk aversion. Log: \\(U(w)=ln(w)\\) \\[ A(w)=\\frac{1}{w} \\text{ and } A&#39;(w)=-\\frac{1}{w^2}&lt;0 \\] \\[ R(w)=1 \\text{ and } R&#39;(w)=0 \\] The log utility function has decreasing absolute and constant relative risk aversion. While an investor is less concerned with the absolute value of risk as their wealth increases, the value of risk remains a constant percentage of their wealth. Power: \\(U(w)=\\frac{w^\\gamma -1}{\\gamma}\\) \\[ A(w)=-\\frac{\\gamma -1}{\\gamma} \\text{ and } A&#39;(w)=\\frac{\\gamma -1}{\\gamma^2}&lt;0 \\] \\[ R(w)=-(\\gamma -1) \\text{ and } R&#39;(w)=0 \\] The power utility function is one of a wider class of hyperbolic absolute risk aversion functions. \\(\\gamma\\) is the risk aversion coefficient. The power function has decreasing absolute and constant relative risk aversion. While an investor is less concerned with the absolute value of risk as their wealth increases, the value of risk remains a constant percentage of their wealth. None of the utility functions above allow much freedom to calibrate the function to reflect individual investor preferences. Further, it may not be possible to model utility over all levels of wealth with a single function. 2.4 State-dependent utility functions State-dependent utility functions can be used to model changes in the utility functions at different levels of wealth. For example, a firm will be highly risk averse at levels of wealth close to insolvency. States for individuals that may influence the form of a utility functions could be healthy/sick or married/single. To construct a utility function in practice, we may ask individuals a series of questions and try to fit a line to their answers, keeping in mind the axioms and principles of non-satiation and risk-aversion. 2.5 Maximising utility with insurance Buying insurance will diminish the wealth of an individual, but it may increase utility. A risk-averse person will pay more for insurance than the long-run average value of claims. This means buying insurance is worthwhile for the individual even if the insurer adds a premium to the expected value of claims to make a profit. An insurance contract is feasible if the minimum premium the insurer is willing to offer less than the maximum premium the individual is willing to pay for insurance. The maximum premium, \\(P\\), an individual is willing to pay to insure against a random loss, \\(X\\), is given by \\[ E[U(a-X)]=U(a-P) \\] where \\(a\\) is the initial level of wealth. The minimum premium, \\(Q\\), an insurer is willing to offer to insure a random loss, \\(X\\), is given by \\[ E[U(a+Q-X)]=U(a) \\] where \\(a\\) is the initial level of wealth. 2.6 Limitations Expected utility is good at focusing us on the trade-offs involved in risky decisions. But; Calculating expected utility is hard. What is the shape of someone’s utility function? Normally we have to settle for modelling a general feature such as risk aversion Applying to several sets of risky decisions is hard. Considering the utility function of a firm is even harder than that of an individual. Expected utility theory is not good at modelling interdependence of risks. 2.7 Alternative decision rules Mean-variance Stochastic dominance Behavioural finance – non-rational investment behaviour "],
["behavioural-finance.html", "3 Behavioural finance", " 3 Behavioural finance The field of behavioural finance relates to the psychology that underlies and drives financial decision-making behaviour. Prospect theory details how human decision-making differs systematically from that predicted by expected utility theory. Further, it states that humans consistently violate the rationality axioms that form the basis of utility theory. There are two phases of decision-making in prospect theory; Editing/framing: Outcomes are initially appraised and ordered. Behavioural patterns observed during this phase Acceptance: People are unlikely to alter the formulation of the choices presented Segregation: People tend to focus on the most “relevant” factors of a problem Evaluation: Choise made from appraised outcomes. Behavioural patterns observed during this phase include Reference dependence Loss aversion Endowment effects Changing risk attitudes Diminishing sensitivity Probability weighting Certainty effect Isolation effect. Prospect theory says that utility is based on gains and losses relative to some reference point. People are typically risk-averse when considering gains relative to the reference point and risk-seeking when considering losses relative to the reference point. A heuristic is a shortcut used by the brain to deliver a quick decision. Examples include Anchoring and adjustment Representativeness Availability Familiarity. The following behavioural biases have been observed Overconfidence, perhaps due to hindsight bias or confirmation bias Self-attribution bias Status quo bias Herd behaviour. The equity premium puzzle, the fact that the returns from equities exceed the returns from bonds by more than is predicted by risk aversion alone, can be explained by myopic loss aversion. Myopic loss aversion suggests that investors are much more concerned by losses than by equivalent gains. They tend to focus on very short-term returns and volatilities rather than long-run earnings. Investors need to earn additional return on equities to overcome their aversion to the short-term losses typical of equity investment. "],
["measures-of-investment-risk.html", "4 Measures of investment risk 4.1 Variance 4.2 Semi-variance 4.3 Shortfall probability 4.4 Value-at-Risk (VaR)", " 4 Measures of investment risk 4.1 Variance Mathematically tractable and leads to tidy solutions for optimal portfolios within the context of mean-variance portfolio theory. Continuous random varianble: \\(Var=\\int_{-\\infty}^\\infty (\\mu-x)^2f(x)dx\\) Discrete random varianble: \\(Var=\\sum_x (\\mu-x)^2P(X=x)dx\\) But, investors care more about downside risk than they do about uncertainty in general. 4.2 Semi-variance Continuous random varianble: \\(Var=\\int_{-\\infty}^\\mu (\\mu-x)^2f(x)dx\\) Discrete random varianble: \\(Var=\\sum_{x&lt;\\mu} (\\mu-x)^2P(X=x)dx\\) 4.3 Shortfall probability Continuous random varianble: \\(Var=\\int_{-\\infty}^Lf(x)dx\\) Discrete random varianble: \\(Var=\\sum_{x&lt;L}P(X=x)dx\\) 4.4 Value-at-Risk (VaR) VaR represents the maximum potential loss on a portfolio over a given period of time with a given degree of confidence (\\(1-p\\)). It is often calculated assuming investment returns follow a normal distribution, which may not be appropriate. Continuous random varianble: \\(VaR(X)=-t\\) where \\(P(X=x)=p\\). Discrete random varianble: \\(VaR(X)=-t\\) where \\(t=max(x:P(X&lt;x)\\le p)\\) "],
["stochastic-investment-returns.html", "5 Stochastic investment returns 5.1 Fixed rate model 5.2 Varying rate model 5.3 Lognormal distribution", " 5 Stochastic investment returns Provides information about the distribution of financial outcomes which can be used to find bst estimates and probabilities. 5.1 Fixed rate model Remember: expected accumulated value \\(\\neq\\) accumulated value at expected rate of return, if \\(n&gt;1\\). \\[ \\sum_{j=1}^kp_j(i+i_j)^n \\neq \\left( 1 + \\sum_{j=1}^kp_ji_j\\right) ^n \\] Mean and variance must be calculated from first principles. It is assumed that the rate of return is unknown until immediately after the investment is made. 5.2 Varying rate model \\[\\begin{align} S_n=(1+i_1)(1+i_2)(1+i_3)\\dots &amp;(1+i_n) \\\\ A_n=(1+i_1)(1+i_2)(1+i_3)\\dots &amp;(1+i_n) + \\\\ (1+i_2)(1+i_3)\\dots &amp;(1+i_n) + \\\\ &amp;(1+i_n) \\end{align}\\] Assume \\(i\\) has mean \\(j\\) and variance \\(s^2\\). 5.2.1 Moments of \\(S_n\\) \\[\\begin{align} E[S_n]&amp;=\\prod_{t=1}^nE[1+i_t] = \\prod_{t=1}^n(1+E[i_t])=(1+j)^n \\\\ E[S_n^2]&amp;=\\prod_{t=1}^nE(1+2i_t+i_t^2)=\\prod_{t=1}^n(1+2E[i_t]+E[i_t^2]) \\\\ &amp;=(1+2j+j^2+s^2)^n\\text{ since }E[i_t^2]=(E[i_t])^2+Var(i_t) \\\\ Var(S_n)&amp;=(1+2j+j^2+s^2) - (1+j)^{2n} \\end{align}\\] 5.2.2 Moments of \\(A_n\\) \\(\\mu_n = E[A_n]\\) and \\(m_n=E[A_n^2]\\) \\[\\begin{align} \\mu^n&amp;=(1+j)(1+\\mu_{n-1})\\text{ so }\\mu_n = \\ddot{s}_n\\text{ at }j\\text{ where}\\\\ \\ddot{s}_n&amp;=\\frac{(1+j)^n-1}{d} \\text{ and }d=\\frac{j}{1+j} \\\\ A_n^2&amp;=(1+2i_n+i_n^2)(1+2A_{n-1}+A_{n-1}^2) \\\\ m_n&amp;=(1+2j+j^2+s^2)(1+2\\mu_{n-1}+m_{n-1})\\\\ Var(A_n)&amp;=E[A_n^2]-(E[A_n])^2=m_n-\\mu_n^2 \\end{align}\\] 5.3 Lognormal distribution This is useul because compounding makes investment returns multiplicative. Handily, if \\(X_1\\sim ln\\mathcal{N}(\\mu_2, \\sigma_2^2)\\) and \\(X_2\\sim ln\\mathcal{N}(\\mu_2, \\sigma_2^2)\\) then \\(X_1X_2\\sim ln\\mathcal{N}(\\mu_1+\\mu_2, \\sigma_1^2+\\sigma_2^2)\\). From page 14 in the tables \\[\\begin{align} E[1+i]&amp;=e^{\\mu+\\frac{1}{2}\\sigma^2} \\\\ Var(1+i)&amp;=e^{2\\mu+\\sigma^2}(e^{\\sigma^2}-1) \\end{align}\\] Probabilities accumulations or present values are below a given value. \\[\\begin{align} S_n&amp;\\sim ln\\mathcal{N}(n\\mu,n\\sigma^2)\\text{ and } P(S_n\\le s)=\\Phi\\left(\\frac{ln(s)-n\\mu}{\\sigma\\sqrt{n}}\\right) \\\\ V_n&amp;\\sim ln\\mathcal{N}(-n\\mu,n\\sigma^2)\\text{ and } P(V_n\\le s)=\\Phi\\left(\\frac{ln(s)-(-n\\mu)}{\\sigma\\sqrt{n}}\\right) \\end{align}\\] "],
["binomial-model.html", "6 Binomial Model", " 6 Binomial Model The binomial model is one of the simplest and most flexible methods of option pricing. function recursive_tree(T, t, h, S, K, σ, δ, r, payoff, eu=true) exercise_value = payoff(S, K) # if t==T, node is a leaf node and exercise if round(t, 6)==T return exercise_value end # otherwise, discount the up and down values u = _u(h, σ, δ, r) d = _d(h, σ, δ, r) q = _q(h, u, d, δ, r) Cu = recursive_tree(T, t+h, h, S*u, K, σ, δ, r, payoff, eu) Cd = recursive_tree(T, t+h, h, S*d, K, σ, δ, r, payoff, eu) continuation_value = exp(-r*h) * (q*Cu + (1-q)*Cd) if !eu return max(exercise_value, continuation_value) end return continuation_value end "],
["step-method.html", "7 5-step method 7.1 Definitions 7.2 Cameron-Martin-Girsanov 7.3 Martingale representation theorem", " 7 5-step method We want to prove the forumula for the fair price of a derivative \\(V_t=e^{-r(n-t)}E_Q[c_n\\mid F_t]\\). Working backwards, the steps are; Show that a certain portfolio replicates the derivative at all times Looking at the definition of a replicating strategy, we see that we first need a self-financing portfolio Looking at the definition of a self-financing portfolio, we see that we need the holdings in the portfolio to be pre-visible To show a process is pre-visible, we have the martingale representation theorem But, the martingale representation theorem requires two martingales The discounted share price process is a \\(Q\\)-martingale but we need one more The other martingale is constructed from derivative payoff, discounting this all the way back, past the current time \\(t\\), to time 0. This is a replicating strategies approach to price derivative. 7.1 Definitions Pre-visible: Known based on information up to but not including time \\(t\\). Sometimes known as \\(F_{t^-}\\) measurable. For the binomial model, \\(t^-=t-1\\). Complete market: For any derivative payment \\(X\\), there is a replicating strategy, \\((\\phi_t, \\psi_t)\\). Equivalent measure: Two measures \\(P\\) and \\(Q\\) are equivalent if for any event, \\(E\\), \\(P(E)&gt;0\\) iff \\(Q(E)&gt;0\\). Bascially, both measures must agree what is and what is not possible. Self-financing strategy: A strategy is self-financing is there are no cash inflows or outflows. Replicating strategy: A self-financing strategy for \\(0\\le t&lt;u\\) such that \\(V_u = \\phi_u S_u+\\psi_uB_u=X\\). For an initial investment \\(V_0\\) at \\(t=0\\) if we follow the self-financing strategy we will reproduce the derivative payoff without risk. We rebalance to have \\(\\phi_t\\) units of stock and \\(\\psi_t\\) uints of cash without any inflow or outflow. The replicating strategy gives the derivative payoff regardless of the value of \\(S_u\\). 7.2 Cameron-Martin-Girsanov Helps us with change of measure in ECO423 – \\(d\\tilde{Z}_t=dW_t+\\lambda dt\\). Suppose \\(Z_t\\) is a standard Brownian motion under \\(P\\). Further, suppose \\(\\gamma_t\\) is a pre-visible process. Then there exists a measure \\(Q\\) equivalent to \\(P\\) and where \\[ \\tilde{Z}_t = Z_t + \\int_0^t\\gamma_sds \\] is a standard Brownian motion under \\(Q\\). Conversely, if \\(Z_t\\) is a standard Brownian motion under \\(P\\) and if \\(Q\\) is equivalent to \\(P\\) then there exists a pre-visible process \\(\\gamma_t\\) such that \\[ \\tilde{Z}_t = Z_t + \\int_0^t\\gamma_sds \\] The CMG theorem tells us that we can change the drift but not the volatility of Brownian motion. So if we know \\(P\\) and \\(\\gamma\\) then we can get \\(Q\\). Similarly, if we know \\(P\\) and \\(Q\\) we can get \\(\\gamma_t\\). For geometric Brownian motion, \\(\\gamma=\\frac{\\mu-r}{\\sigma}\\). This is the Sharpe ratio. 7.3 Martingale representation theorem Suppose \\(X_t\\) and \\(Y_t\\) are martingales under \\(P\\). The MRT says there exists a pre-visible process \\(\\phi_t\\) such that \\[ Y_t=Y_0+\\int_0^t\\phi_sdX_s\\iff dY_t=\\phi_tdX_t \\] We’ll see later that \\(\\phi_t\\) is the amount of stock to hold in the replicating portfolio. To make this a replicating portfolio, it is imperative that the amount of stock to hold is pre-visible. The MRT proves that it is. Happy days. "]
]
